<div class="header">
    <ul class="nav nav-pills pull-right">
        <li class="active"><a ng-href="/">Home</a>
        </li>
    </ul>
    <h3 class="text-muted">Mobile Fun Fighter</h3>
</div>

<div class="row">
    <div class="col-lg-6 player" ng-repeat="player in game.players">
        <div class="row">
            <div class="col-lg-6">
                <h2>{{ player.name }}</h2>
                <select ng-disabled="game.inProgress" ng-model="player.warrior" ng-options="warrior as warrior.name for warrior in game.warriors[$index]">
                    <option value="">-- choose warrior --</option>
                </select>
            </div>
            <div class="col-lg-6"></div>
        </div>
        <br />
        <div class="row">
            <div class="col-lg-12" ng-switch on="game.inProgress">
                <div class="table-responsive table-condensed" ng-hide="!player.warrior || game.inProgress" ng-switch-default>
                    <table class="table" ng-model="player.warrior">
                        <thead>
                            <tr>
                                <th class="col-lg-5">Character Sheet</th>
                                <th class="col-lg-9"></th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Health:</td>
                                <td>{{ player.warrior.health }}</td>
                            </tr>
                            <tr>
                                <td>Attack:</td>
                                <td>{{ player.warrior.attack }}</td>
                            </tr>
                            <tr>
                                <td>Defence:</td>
                                <td>{{ player.warrior.defence }}</td>
                            </tr>
                            <tr>
                                <td>Evade Chance:</td>
                                <td>{{ player.warrior.evadeChance.toFixed(2) * 100 }}%</td>
                            </tr>
                            <tr>
                                <td>Special:</td>
                                <td>{{ player.warrior.specialToString() }}</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div ng-switch-when="true">
                    {{ player.warrior.health }}
                </div>
            </div>
        </div>
    </div>
    <div class="col-lg-12" ng-switch on="game.inProgress">
        <button type="button" class="btn btn-primary btn-lg btn-block" ng-show="game.playersReady()" ng-click="game.startGame()" ng-switch-default>Fight!</button>
        <div ng-switch-when="true">
            <h3>Game Log</h3>
            <div ng-repeat="msg in messages">
                {{ msg }}
            </div>
        </div>
    </div>
</div>

<div class="footer">
    <span>&copy; {{ today | date:'yyyy'}}</span>
</div>
